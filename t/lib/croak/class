__END__
# Method calls on no args
no warnings 'experimental::class';
use feature 'class';
class XXX { method m { } }
XXX::m()
EXPECT
Cannot invoke method on a non-instance at - line 5.
########
# Method calls on non-ref
no warnings 'experimental::class';
use feature 'class';
class XXX { method m { } }
XXX::m(123)
EXPECT
Cannot invoke method on a non-instance at - line 5.
########
# Method calls on non-object
no warnings 'experimental::class';
use feature 'class';
class XXX { method m { } }
XXX::m([])
EXPECT
Cannot invoke method on a non-instance at - line 5.
########
# Method calls from a different class
no warnings 'experimental::class';
use feature 'class';
class XXX { method m { } }
class YYY {}
YYY->new->XXX::m();
EXPECT
Cannot invoke a method of 'XXX' on an instance of 'YYY' at - line 6.
########
no warnings 'experimental::class';
use feature 'class';
class XXX {}
bless [], "XXX";
EXPECT
Attempt to bless into a class at - line 4.
########
no warnings 'experimental::class';
use feature 'class';
class XXX {}
bless(XXX->new, "main");
EXPECT
Can't bless an object reference at - line 4.
########
no warnings 'experimental::class';
use feature 'class';
class XXX { field $x; sub f { print $x } }
EXPECT
Field $x is not accessible outside a method at - line 3.
